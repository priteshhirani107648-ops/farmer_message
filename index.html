<!DOCTYPE html>
<html lang="gu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ркирлАрк▓ркХркВрка рклрлНрк░рлВркЯ ркПркирлНркб рк╡рлЗркЬрлАркЯрлЗркмрк▓</title>

<style>
:root{
  --green:#1f7a3f;
  --green-light:#e9f6ef;
  --bg:#f4f6f8;
  --card:#fff;
  --text:#1f2937;
  --muted:#6b7280;
  --danger:#c53030;
  --radius:16px;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,Segoe UI,Arial;
  background:var(--bg);
  color:var(--text);
}
.app{
  max-width:480px;
  margin:auto;
  padding:14px;
}
.header{
  text-align:center;
  padding:14px 0;
}
.header h1{
  margin:0;
  font-size:21px;
  font-weight:800;
}
.header p{
  margin:6px 0 0;
  font-size:13px;
  color:var(--muted);
}
.card{
  background:var(--card);
  border-radius:var(--radius);
  padding:16px;
  margin-top:14px;
  box-shadow:0 10px 22px rgba(0,0,0,.06);
}
label{
  font-size:14px;
  font-weight:600;
  display:block;
  margin-bottom:6px;
}
input,select,textarea,button{
  width:100%;
  padding:12px;
  font-size:16px;
  border-radius:12px;
  border:1px solid #d1d5db;
}
textarea{
  min-height:190px;
  resize:none;
  background:#fafafa;
}
.row{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  margin-top:8px;
}
.row>*{flex:1}
.other{display:none}
.btn{
  border:none;
  font-weight:700;
  margin-top:12px;
  cursor:pointer;
}
.btn-add{background:var(--green-light);color:var(--green)}
.btn-gen{background:var(--green);color:#fff}
.btn-copy{background:#eef2ff;color:#1d4ed8}
.btn-clear{background:#fff3f3;color:var(--danger)}
.mode{
  display:flex;
  gap:8px;
}
.mode button{
  flex:1;
  background:#f3f4f6;
}
.mode .active{
  background:var(--green);
  color:#fff;
}
.footer{
  text-align:center;
  font-size:12px;
  color:var(--muted);
  margin-top:20px;
}
</style>
</head>

<body>
<div class="app">

<div class="header">
  <h1>ЁЯеж ркирлАрк▓ркХркВрка рклрлНрк░рлВркЯ ркПркирлНркб рк╡рлЗркЬрлАркЯрлЗркмрк▓</h1>
  <p>ркжрлИркирк┐ркХ ркнрк╛рк╡ ркЕркирлЗ ркмрк┐рк▓ ркЬркирк░рлЗркЯрк░</p>
</div>

<!-- MODE -->
<div class="card">
  <label>ркорлЛркб рккрк╕ркВркж ркХрк░рлЛ</label>
  <div class="mode">
    <button id="normalBtn" class="active" onclick="setMode('normal')">ЁЯЯв Normal</button>
    <button id="advBtn" onclick="setMode('advanced')">ЁЯФ╡ Advanced (Bill)</button>
  </div>
</div>

<!-- FARMER -->
<div class="card">
<label>ркЦрлЗркбрлВркд</label>
<select id="farmerSelect" onchange="toggleFarmerOther()">
  <option value="">ркЦрлЗркбрлВркд рккрк╕ркВркж ркХрк░рлЛ</option>
  <option>JK Hirani</option>
  <option>Bhumi</option>
  <option>Kumud</option>
  <option>Dharmin</option>
  <option>Shreeji Farm</option>
  <option>HMV</option>
  <option value="OTHER">ркЕркирлНркп</option>
</select>
<input id="farmerOther" class="other" placeholder="ркЦрлЗркбрлВркдркирлБркВ ркирк╛рко рк▓ркЦрлЛ">
</div>

<!-- ITEMS -->
<div class="card">
<label>рк╢рк╛ркХркнрк╛ркЬрлА</label>
<div id="items"></div>
<button class="btn btn-add" onclick="addItem()">тЮХ рк╡ркзрлБ рк╢рк╛ркХ ркЙркорлЗрк░рлЛ</button>
</div>

<!-- MESSAGE -->
<div class="card">
<button class="btn btn-gen" onclick="generate()">ЁЯУД рк╕ркВркжрлЗрк╢ ркмркирк╛рк╡рлЛ</button>
<label style="margin-top:14px">WhatsApp рк╕ркВркжрлЗрк╢</label>
<textarea id="message" readonly></textarea>
<button class="btn btn-copy" onclick="copyText()">ЁЯУЛ ркХрлЙрккрлА ркХрк░рлЛ</button>
<button class="btn btn-clear" onclick="clearAll()">ЁЯз╣ ркХрлНрк▓рк┐ркпрк░ ркХрк░рлЛ</button>
</div>

<div class="footer">
┬й Hirani Tech | Developed by <strong>Pritesh Hirani</strong>
</div>

</div>

<script>
let MODE="normal";

function setMode(m){
  MODE=m;
  normalBtn.classList.toggle("active",m==="normal");
  advBtn.classList.toggle("active",m==="advanced");
  clearAll();
}

function getISTDate(){
  return new Date().toLocaleDateString("en-GB",{timeZone:"Asia/Kolkata"});
}

function toggleFarmerOther(){
  farmerOther.style.display = farmerSelect.value==="OTHER"?"block":"none";
  if(farmerSelect.value!=="OTHER") farmerOther.value="";
}

function getEmoji(v){
  const m={
    "ркЯрк╛ркорлЗркЯрк╛":"ЁЯНЕ","ркорк░ркЪрк╛ркВ":"ЁЯМ╢я╕П","ркмркЯрк╛ркХрк╛":"ЁЯеФ","ркбрлБркВркЧрк│рлА":"ЁЯзЕ",
    "ркХрк╛ркХркбрлА":"ЁЯеТ","ркЧрк╛ркЬрк░":"ЁЯеХ","рк░рлАркВркЧркг":"ЁЯНЖ",
    "ркмрк╛ркЬрк░рлАркпрк╛ рк░рлАркВркЧркг":"ЁЯНЖ","рккрлЗркдрк░ркЧрк╛рк▓рк╛":"ЁЯОГ"
  };
  return m[v]||"ЁЯем";
}

function addItem(){
  const r=document.createElement("div");
  r.className="row";
  r.innerHTML=`
  <select class="veg" onchange="toggleVegOther(this)">
    <option value="">рк╢рк╛ркХ</option>
    <option>ркЯрк╛ркорлЗркЯрк╛</option>
    <option>ркорк░ркЪрк╛ркВ</option>
    <option>ркмркЯрк╛ркХрк╛</option>
    <option>ркбрлБркВркЧрк│рлА</option>
    <option>ркХрк╛ркХркбрлА</option>
    <option>ркЧрк╛ркЬрк░</option>
    <option>рк░рлАркВркЧркг</option>
    <option>ркмрк╛ркЬрк░рлАркпрк╛ рк░рлАркВркЧркг</option>
    <option>рккрк╛рк▓ркХ</option>
    <option>ркжрлВркзрлА</option>
    <option>рккрлЗркдрк░ркЧрк╛рк▓рк╛</option>
    <option value="OTHER">ркЕркирлНркп</option>
  </select>
  <input class="other" placeholder="рк╢рк╛ркХркирлБркВ ркирк╛рко">
  <input class="price" placeholder="ркнрк╛рк╡ тВ╣">
  ${MODE==="advanced"?'<input class="qty" placeholder="рк╡ркЬрки (ркХрк┐.ркЧрлНрк░рк╛)">':''}
  `;
  items.appendChild(r);
}

function toggleVegOther(s){
  const o=s.parentElement.querySelector(".other");
  o.style.display=s.value==="OTHER"?"block":"none";
  if(s.value!=="OTHER") o.value="";
}

function generate(){
  const farmer=farmerSelect.value==="OTHER"?farmerOther.value:farmerSelect.value;
  let msg=`ркиркорк╕рлНркдрлЗ ${farmer} ЁЯЩП
ркдрк╛рк░рлАркЦ: ${getISTDate()}

`;
  let grand=0;

  items.querySelectorAll(".row").forEach(r=>{
    let v=r.querySelector(".veg").value==="OTHER"
      ?r.querySelector(".other").value
      :r.querySelector(".veg").value;
    let p=Number(r.querySelector(".price").value||0);

    if(!v||!p) return;

    if(MODE==="normal"){
      msg+=`${getEmoji(v)} ${v} : тВ╣${p}\n`;
    }else{
      let q=Number(r.querySelector(".qty").value||0);
      let t=p*q;
      grand+=t;
      msg+=`${getEmoji(v)} ${v}\n  ркнрк╛рк╡ тВ╣${p} ├Ч ${q}kg = тВ╣${t}\n`;
    }
  });

  if(MODE==="advanced"){
    msg+=`\nркХрлБрк▓ рк░ркХрко: тВ╣${grand}\n`;
  }

  msg+=`\nтАУ ркирлАрк▓ркХркВрка рклрлНрк░рлВркЯ ркПркирлНркб рк╡рлЗркЬрлАркЯрлЗркмрк▓`;
  message.value=msg;
}

function copyText(){
  message.select();
  document.execCommand("copy");
  alert("рк╕ркВркжрлЗрк╢ ркХрлЙрккрлА ркеркпрлЛ тЬЕ");
}

function clearAll(){
  farmerSelect.value="";
  farmerOther.value="";
  farmerOther.style.display="none";
  items.innerHTML="";
  message.value="";
  addItem();
}

addItem();
</script>
</body>
</html>
