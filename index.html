<!DOCTYPE html>
<html lang="gu">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <title>Nilkanth Fruits & Vegetables</title>

  <style>
    :root {
      --primary: #1f7a3f;
      --secondary: #25D366;
      --bg: #f5f7f9;
      --card: #ffffff;
      --text: #222;
      --muted: #666;
      --radius: 14px;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
    }

    .app {
      max-width: 480px;
      margin: auto;
      padding: 14px;
    }

    .header {
      text-align: center;
      padding: 14px 10px 10px;
    }

    .header h1 {
      font-size: 20px;
      margin: 0;
      font-weight: 700;
    }

    .header p {
      margin: 4px 0 0;
      font-size: 13px;
      color: var(--muted);
    }

    .card {
      background: var(--card);
      border-radius: var(--radius);
      padding: 16px;
      margin-top: 12px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.06);
    }

    label {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 6px;
      display: block;
    }

    input, select, textarea, button {
      width: 100%;
      font-size: 16px;
      padding: 12px;
      border-radius: 10px;
      border: 1px solid #ddd;
    }

    textarea {
      min-height: 180px;
      resize: none;
      background: #fafafa;
    }

    .item-row {
      display: flex;
      gap: 8px;
      margin-top: 8px;
      flex-wrap: wrap;
    }

    .item-row select,
    .item-row input {
      flex: 1;
    }

    .other-input {
      display: none;
    }

    .btn {
      border: none;
      font-weight: 600;
      cursor: pointer;
      margin-top: 12px;
    }

    .btn-add { background: #eef7f1; color: var(--primary); }
    .btn-generate { background: var(--primary); color: #fff; }
    .btn-copy { background: #eef2ff; color: #1d4ed8; }
    .btn-wa { background: var(--secondary); color: #fff; }
    .btn-clear { background: #fff3f3; color: #c53030; }

    .footer {
      text-align: center;
      font-size: 12px;
      color: var(--muted);
      margin: 18px 0 6px;
    }
  </style>
</head>

<body>

<div class="app">

  <div class="header">
    <h1>ЁЯеж ркирк┐рк▓ркХркВрка рклрлНрк░рлВркЯрлНрк╕ ркПркирлНркб рк╡рлЗркЬрлАркЯрлЗркмрк▓рлНрк╕</h1>
    <p>ркжрлИркирк┐ркХ ркнрк╛рк╡ рк╕ркВркжрлЗрк╢ ркЬркирк░рлЗркЯрк░</p>
  </div>

  <div class="card">
    <label>ркЦрлЗркбрлВркдркирлБркВ ркирк╛рко</label>
    <input id="farmer" placeholder="рк░рк╛ркоркнрк╛ркИ">
  </div>

  <div class="card">
    <label>рк╢рк╛ркХркнрк╛ркЬрлА ркЕркирлЗ ркнрк╛рк╡</label>
    <div id="items"></div>
    <button class="btn btn-add" onclick="addItem()">тЮХ рк╡ркзрлБ рк╢рк╛ркХ ркЙркорлЗрк░рлЛ</button>
  </div>

  <div class="card">
    <button class="btn btn-generate" onclick="generate()">ЁЯУД рк╕ркВркжрлЗрк╢ ркмркирк╛рк╡рлЛ</button>

    <label style="margin-top:14px">WhatsApp рк╕ркВркжрлЗрк╢</label>
    <textarea id="message" readonly></textarea>

    <button class="btn btn-copy" onclick="copyText()">ЁЯУЛ ркХрлЙрккрлА ркХрк░рлЛ</button>
    <button class="btn btn-clear" onclick="clearAll()">ЁЯз╣ ркХрлНрк▓рк┐ркпрк░ ркХрк░рлЛ</button>
  </div>

  <div class="footer">
    ┬й Hirani Tech | Developed by <strong>Pritesh Hirani</strong>
  </div>

</div>

<script>
  function getISTDate() {
    return new Date().toLocaleDateString("en-GB", {
      timeZone: "Asia/Kolkata",
      day: "2-digit",
      month: "2-digit",
      year: "numeric"
    });
  }

  function getEmoji(veg) {
    const map = {
      "ркЯрк╛ркорлЗркЯрк╛": "ЁЯНЕ",
      "ркорк░ркЪрк╛ркВ": "ЁЯМ╢я╕П",
      "ркмркЯрк╛ркХрк╛": "ЁЯеФ",
      "ркбрлБркВркЧрк│рлА": "ЁЯзЕ",
      "ркХрк╛ркХркбрлА": "ЁЯеТ",
      "ркЧрк╛ркЬрк░": "ЁЯеХ",
      "ркнрлАркВркбрк╛": "ЁЯем",
      "рк░рлАркВркЧркг": "ЁЯНЖ",
      "ркХрлЛркмрлА": "ЁЯем",
      "рклрлВрк▓ркХрлЛркмрлА": "ЁЯеж"
    };
    return map[veg] || "ЁЯем";
  }

  function addItem() {
    const row = document.createElement("div");
    row.className = "item-row";
    row.innerHTML = `
      <select class="item" onchange="toggleOther(this)">
        <option value="">рк╢рк╛ркХ рккрк╕ркВркж ркХрк░рлЛ</option>
        <option>ркЯрк╛ркорлЗркЯрк╛</option>
        <option>ркорк░ркЪрк╛ркВ</option>
        <option>ркмркЯрк╛ркХрк╛</option>
        <option>ркбрлБркВркЧрк│рлА</option>
        <option>ркХрк╛ркХркбрлА</option>
        <option>ркЧрк╛ркЬрк░</option>
        <option>ркнрлАркВркбрк╛</option>
        <option>рк░рлАркВркЧркг</option>
        <option>ркХрлЛркмрлА</option>
        <option>рклрлВрк▓ркХрлЛркмрлА</option>
        <option value="OTHER">ркЕркирлНркп</option>
      </select>

      <input class="other-input" placeholder="рк╢рк╛ркХркирлБркВ ркирк╛рко рк▓ркЦрлЛ">
      <input class="price" placeholder="ркнрк╛рк╡ тВ╣">
    `;
    document.getElementById("items").appendChild(row);
  }

  function toggleOther(select) {
    const row = select.parentElement;
    const other = row.querySelector(".other-input");
    other.style.display = select.value === "OTHER" ? "block" : "none";
    if (select.value !== "OTHER") other.value = "";
  }

  function generate() {
    const farmer = document.getElementById("farmer").value.trim();
    const rows = document.querySelectorAll(".item-row");
    const date = getISTDate();

    let msg = `ркиркорк╕рлНркдрлЗ ${farmer} ЁЯЩП
ркдрк╛рк░рлАркЦ: ${date}

ркЖркЬркирк╛ ркнрк╛рк╡ ркирлАркЪрлЗ ркорлБркЬркм ркЫрлЗ:\n`;

    rows.forEach(row => {
      const select = row.querySelector(".item");
      const other = row.querySelector(".other-input");
      const price = row.querySelector(".price").value.trim();
      const veg = select.value === "OTHER" ? other.value.trim() : select.value;

      if (veg && price) {
        msg += `\n${getEmoji(veg)} ${veg} : тВ╣${price}`;
      }
    });

    msg += `\n\nтАУ ркирк┐рк▓ркХркВрка рклрлНрк░рлВркЯрлНрк╕ ркПркирлНркб рк╡рлЗркЬрлАркЯрлЗркмрк▓рлНрк╕`;
    document.getElementById("message").value = msg;
  }

  function copyText() {
    const t = document.getElementById("message");
    t.select();
    document.execCommand("copy");
    alert("рк╕ркВркжрлЗрк╢ ркХрлЙрккрлА ркеркпрлЛ тЬЕ");
  }

 
  function clearAll() {
    document.getElementById("farmer").value = "";
    document.getElementById("message").value = "";
    document.getElementById("items").innerHTML = "";
    addItem(); // fresh empty row
  }

  // Initialize with one row
  addItem();
</script>

</body>
</html>
